<!DOCTYPE html>

<html>

	<head>
		<title>Will-is-Coding's File Metadata Microservice</title>
		
		<link href="/public/css/main.css" rel="stylesheet" type="text/css">
		<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">
		<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js" type="text/javascript"></script>
	</head>

	<header>
		<p>Welcome to Will-is-Coding's</p>
		<h1 class="text-center">File Metadata Microservice</h1>
	</header>

	<body></body>
		<div class="container">
			<blockquote class="center-block">
				<p>Upload a file via the 'Choose File' button and be alerted to the file's size in bytes. </p>
			</blockquote>
		</div>
	
		<div class="container">
			<div class="row">
				<div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 center-form">
				<form method="post" action="/api/fileanalyze" enctype="multipart/form-data" class="form-inline center-block">
					<div class="form-group">
						<input type="file" name="upl">
					</div>
					<div class="form-group">
						<input type="submit" value="Upload" class='btn btn-default'>
					</div>
				</form>
				</div>
			</div>
		</div>
		<script type="text/javascript">
			$(document).ready(function() {
  				$('form').submit(function(event) {
			    var formData = new FormData();
			    formData.append('file', $('form')[0].files[0]);
			    
			    event.stopPropagation();
			    event.preventDefault();
			    
			    $.ajax({
			      url: window.location.origin + '/api/fileanalyze/',
			      type: 'POST',
			      data: formData,
			      cache: false,
			      error: function(error) {
			        alert('Error: ' + error);
			      },
			      success: function(data) {
			        alert('File size: ' + data);
			      }
			    });
			  });
			});
		</script>
		
		<script type="text/javascript" src="common/ajax-functions.js"></script>
	</body>

</html>